# luigi-pipeline

Этот проект представляет собой пайплайн для обработки датасета GEO (Gene Expression Omnibus) с использованием фреймворка Luigi. Пайплайн включает в себя следующие шаги:

1. Скачивание архива с данными.
2. Распаковка tar-архива и gzip-файлов.
3. Обработка текстовых файлов и сохранение их в формате TSV.
4. Удаление исходных текстовых файлов и создание файла `readme.txt` с информацией о выполненных шагах.

## Структура проекта

- pipeline.py: Основной файл с кодом пайплайна Luigi.
- requirements.txt: Файл с зависимостями, необходимыми для выполнения пайплайна.
- Папка с датасетом, полученным в результате работы пайплайна.

## Требования

Для запуска пайплайна необходим Python 3 и установленные зависимости из `requirements.txt`.

## Инструкция по установке и запуску

### 1. Установите зависимости:

```bash
pip install -r requirements.txt

Для запуска всех задач пайплайна выполните следующую команду:

```bash
python pipeline.py AllRuner --local-scheduler --data-dir 'data' --dataset-series 'GSE68nnn' --dataset-name 'GSE68849'

Детали выполнения пайплайна
Пайплайн включает следующие задачи:
 1 GeoLoader: Скачивает архив GSE68849_RAW.tar из GEO и сохраняет его в директорию data.
 2 GzipExtracter: Распаковывает скачанный tar-архив и все gzip-файлы внутри него, сохраняет распакованные файлы в директорию data/GSE68849/extracted.
 3 TextReducer: Обрабатывает текстовые файлы, разделяет их на отдельные таблицы и сохраняет каждую таблицу в формате TSV в отдельной директории внутри data/GSE68849. Также создает урезанную версию таблицы Probes.
 4 MessCleaner: Удаляет все исходные текстовые файлы и директорию extracted, создает файл readme.txt с информацией о выполненных шагах.

data/
└── GSE68849/
    ├── Columns/
    │   └── Columns.tsv
    ├── Controls/
    │   └── Controls.tsv
    ├── Heading/
    │   └── Heading.tsv
    ├── Probes/
    │   └── Probes.tsv
    ├── Probes_reduced/
    │   └── Probes_reduced.tsv
    └── readme.txt